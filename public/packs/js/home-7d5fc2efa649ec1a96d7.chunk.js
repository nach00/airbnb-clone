(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{283:function(e,t,a){},406:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(10),c=a.n(o),l=a(8),i=a(5);function s(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return m(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function u(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=b(e);if(t){var n=b(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return f(this,a)}}function f(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}var g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(c,e);var t,a,r,o=p(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=o.call(this,e)).loadProperties=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t.setState({loading:!0,error:null}),fetch("/api/properties?page=".concat(e),Object(i.b)({method:"GET"})).then(i.a).then((function(e){return e.json()})).then((function(a){t.setState((function(t){return{properties:1===e?a.properties:[].concat(s(t.properties),s(a.properties)),totalPages:a.total_pages,nextPage:a.next_page,currentPage:a.current_page,loading:!1}}))})).catch((function(e){console.error("Error loading properties:",e),t.setState({loading:!1,error:"Failed to load properties. Please try again."})}))},t.loadMore=function(){t.state.nextPage&&!t.state.loading&&t.loadProperties(t.state.nextPage)},t.formatPrice=function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(e)},t.state={properties:[],totalPages:0,nextPage:null,currentPage:1,loading:!1,error:null},t}return t=c,(a=[{key:"componentDidMount",value:function(){this.loadProperties()}},{key:"render",value:function(){var e=this,t=this.state,a=t.properties,r=t.loading,o=t.error,c=t.nextPage;return n.a.createElement(l.a,null,n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("h1",{className:"mb-4"},"Find Your Perfect Stay"),n.a.createElement("p",{className:"text-muted mb-4"},"Discover amazing places to stay around the world"))),o&&n.a.createElement("div",{className:"alert alert-danger",role:"alert"},o),n.a.createElement("div",{className:"row"},a.map((function(t){return n.a.createElement("div",{key:t.id,className:"col-lg-4 col-md-6 mb-4"},n.a.createElement("div",{className:"card h-100 shadow-sm"},n.a.createElement("img",{src:t.image_url,className:"card-img-top",alt:t.title,style:{height:"200px",objectFit:"cover"}}),n.a.createElement("div",{className:"card-body d-flex flex-column"},n.a.createElement("h5",{className:"card-title"},t.title),n.a.createElement("p",{className:"card-text text-muted small"},t.city,", ",t.country),n.a.createElement("p",{className:"card-text flex-grow-1"},t.description.length>100?"".concat(t.description.substring(0,100),"..."):t.description),n.a.createElement("div",{className:"d-flex justify-content-between align-items-center mt-auto"},n.a.createElement("div",null,n.a.createElement("strong",{className:"text-primary"},e.formatPrice(t.price_per_night)),n.a.createElement("small",{className:"text-muted"}," / night")),n.a.createElement("div",{className:"text-end"},n.a.createElement("small",{className:"text-muted d-block"},t.max_guests," guests"),n.a.createElement("small",{className:"text-muted"},t.bedrooms," bed",1!==t.bedrooms?"s":""))),n.a.createElement("a",{href:"/property/".concat(t.id),className:"btn btn-primary mt-3"},"View Details"))))}))),0===a.length&&!r&&!o&&n.a.createElement("div",{className:"text-center py-5"},n.a.createElement("h4",{className:"text-muted"},"No properties found"),n.a.createElement("p",{className:"text-muted"},"Check back later for new listings!")),r&&n.a.createElement("div",{className:"text-center py-4"},n.a.createElement("div",{className:"spinner-border text-primary",role:"status"},n.a.createElement("span",{className:"visually-hidden"},"Loading...")),n.a.createElement("p",{className:"mt-2 text-muted"},"Loading properties...")),c&&!r&&n.a.createElement("div",{className:"text-center mt-4"},n.a.createElement("button",{className:"btn btn-outline-primary btn-lg",onClick:this.loadMore},"Load More Properties")))}}])&&u(t.prototype,a),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(n.a.Component);document.addEventListener("DOMContentLoaded",(function(){c.a.render(n.a.createElement(g,null),document.body.appendChild(document.createElement("div")))}));a(283)},5:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return n}));var r=function(e){if(!e.ok)throw Error(e.statusText);return e},n=function(e){var t=document.querySelector('meta[name="csrf-token"]').getAttribute("content");return Object.assign(e,{headers:Object.assign(e.headers||{},{"X-CSRF-Token":t,"Content-Type":"application/json"}),credentials:"same-origin"})}},8:function(e,t,a){"use strict";var r=a(0),n=a.n(r);t.a=function(e){var t=e.children;return n.a.createElement(n.a.Fragment,null,n.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light border-bottom"},n.a.createElement("div",{className:"container"},n.a.createElement("a",{className:"navbar-brand fw-bold text-primary",href:"/"},"Airbnb Clone"),n.a.createElement("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav"},n.a.createElement("span",{className:"navbar-toggler-icon"})),n.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},n.a.createElement("ul",{className:"navbar-nav ms-auto"},n.a.createElement("li",{className:"nav-item"},n.a.createElement("a",{className:"nav-link",href:"/"},"Home")),n.a.createElement("li",{className:"nav-item"},n.a.createElement("a",{className:"nav-link",href:"/login"},"Login")))))),n.a.createElement("main",{className:"container mt-4 mb-5"},t),n.a.createElement("footer",{className:"bg-light border-top mt-auto py-4"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-6"},n.a.createElement("h6",{className:"fw-bold"},"Airbnb Clone"),n.a.createElement("p",{className:"text-muted small mb-0"},"Your home away from home")),n.a.createElement("div",{className:"col-md-6 text-md-end"},n.a.createElement("p",{className:"text-muted small mb-0"},"\xa9 2024 Airbnb Clone. Built with Rails & React."))))))}}},[[406,8,0]]]);
//# sourceMappingURL=home-7d5fc2efa649ec1a96d7.chunk.js.map